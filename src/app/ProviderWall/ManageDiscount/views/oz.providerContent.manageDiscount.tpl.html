<div style="border: 1px solid #EEE8E8; border-radius:6px; padding:10px;" class="container">
<!-- Add discounts code -->

<div id="tabs" >
    <ul id="tabPrice" class=" policyTab nav nav-pills" ng-init="assignDiscountCodes === 0" >
  

      <li class="tabPolicyLi" ng-class="{active3 : assignDiscountCodes === 0}"  style = 'width:20%;'>
        <a id="prodoCommentSearchTab" class="prodo-cursor" ng-click="switchToManageDiscountCodes()" >
           Manage Discount Codes
         </a>
      </li>

      <li class="tabPolicyLi" ng-class="{active3 : assignDiscountCodes === 1}" style = 'width:20%;'>
        <a  class="prodo-cursor" id="prodoCommentTab" ng-click=" switchToAssignDiscountCodes()">
            Assign Discount Codes
        </a>
      </li>

  <!--      <li class="tabPolicyLi" ng-class="{active3 : tabForOrders.delivery == 1}"  >
        <a id="prodoCommentSearchTab" class="prodo-cursor" ng-click="tabForOrders.approval = false;
      tabForOrders.processing = false; tabForOrders.delivery = true;" >
         Order Delivery
         </a>
      </li> -->
    </ul>
</div>




  <div style = 'margin:0px;padding:20px;' ng-if = 'assignDiscountCodes === 1 && manageDiscountCodes === 0' class="row">
    <div style= 'border: 1px solid #ccc; border-radius:4px;' class="col-md-2">
       <table class = 'table table-hover' style = 'margin-bottom : 4%;'>
           <tr>
               <td style = 'border-top:0px; border-bottom : 1px solid #ccc;'> <h5> Discount Codes </h5> </td>
           </tr>
           <tr ng-repeat = 'list in containerOfDiscountCode'>
               <td ng-bind = 'list.discountcode' ng-click = 'assignCodes(list.discountid, $index)' class = 'cursorPointerHyperlink' id = '{{$index}}' ng-class = '{selectBackgroundColor : $first}'>
          <!--      <select  class=" form-control" ng-model="selectedDiscountId" ng-options="code.discountid as code.discountcode for code in containerOfDiscountCode" ></select> -->
               </td>
           </tr>
       </table>
    </div>
    <div style= 'border: 1px solid #ccc; border-radius:4px;' class="col-md-5">
      <table class = 'table table-hover' style = 'margin-bottom : 0%;'>
           <tr>
               <td style = 'border-top:0px'>  <input type= 'text' class = 'form-control' ng-model = 'searchProduct' placeholder = 'Search products'></td>
           </tr>
            <tr>
               <td> <div class = 'productNameWidth cursorPointerHyperlink'  ng-click= 'addAllProductsToFinalList()' >Add All Products</div></td>
           </tr>
          <tr ng-repeat = 'list in productsList | filter : searchProduct'>
              <td  ng-click = 'addToFinalProductList(list, $index)' style = 'cursor : e-resize' ><span ng-bind = 'list.productname' > </span></td>
          </tr>
      </table>
    </div>
<!--     <div class="col-md-2 border-radius" style= 'border: 0px solid #ccc;'>
     <div > 
          <div><button class = 'btn btn-default'>>></button></div>
                <br>
          <div><button class = 'btn btn-default'><<</button></div>
     </div> 
    </div> -->
    <div style= 'border: 1px solid #ccc;cursor : w-resize;border-radius:4px;' class="col-md-5" >
       <table class = 'table table-hover' style = 'margin-bottom : 0%;'>
           <tr>
               <td style = 'border-top:0px'> <input type= 'text' class = 'form-control' ng-model = 'findProducts' placeholder = 'Search products'></td>
           </tr>
           <tr>
               <td> <div class = 'productNameWidth cursorPointerHyperlink'  ng-click= 'clearAllProductsToFinalList()' >Remove All Products </div></td>
           </tr>
           <tr ng-repeat = 'list in finalSelectedProducts | filter : findProducts track by $index ' > 
               <td ng-bind = 'list.productname' style = 'cursor : w-resize' ng-click='insertProductToProductList(list,$index)'></td>
           </tr>

           <tr>
               <td>
                   <button class = 'btn btn-info' ng-click = 'assignDiscountsToProducts()'> Apply Code To Products </button>
               </td>
          </tr>
       </table>
    </div>
  </div>

<div ng-if = 'manageDiscountCodes === 1 && assignDiscountCodes === 0' style = 'padding-top:5%'>
   <div style = 'height : 69px'>
          <button class = 'btn btn-info' style = 'float : right; '  ng-click="openAddDiscountCode()" >Add new discount code </button>
  </div>

  <div collapse="isCollapsed">
          <table class = 'table table-hover' style= 'border: 1px solid #ccc;' >
              <tr>
                  <td>
                      <h5> Code : </h5>
                  </td>

                  <td>
                      <input type = 'text' class = 'form-control' ng-model = 'codeContent.discountcode'>
                      <div class="error-message" ng-if="errorForEmptyCode!==''" ng-bind="errorForEmptyCode"></div>
                  </td>
              </tr>

              <tr>
                  <td>
                      <h5> Description : </h5>
                  </td>

                  <td>
                      <textarea class = 'form-control' ng-model = 'codeContent.description'></textarea>
                      <div class="error-message" ng-if="errorForEmptyDescription!==''" ng-bind="errorForEmptyDescription"></div>
                  </td>
              </tr>

              <tr>
                  <td>
                      <h5> Percentage of Discount : </h5>
                  </td>

                 <td>
                     <input type= 'text' class= 'form-control' ng-model = 'codeContent.percent'>
                     <div class="error-message" ng-if="errorForInvalidPercentage!==''" ng-bind="errorForInvalidPercentage"></div>
                  </td>
              </tr>

        <!--       <tr>
                      <td></td>
                      <td> <button class = 'btn btn-info' style = 'float : right'> Submit </button> </td>
              </tr> -->

              <tr>
                       <td> Start Date : </td>
                       <td>
                         <input type="text" placeholder="Plaese select start date" ng-model="codeContent.startdate" class="form-control disableEditingMode" name="startDate"  datepicker-popup="{{format}}"  is-open="opened1" min="today"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close"  readonly="true">  
                         <div class="error-message" ng-if="errorForInvalidStartDate!==''" ng-bind="errorForInvalidStartDate"></div>    
                       </td>  
              </tr>

              <tr>
                  <td> End Date : </td>
                  <td>
                         <input type="text" placeholder="Please select end date" ng-model="codeContent.expirydate" class="form-control disableEditingMode" name="endDates" datepicker-popup="{{format}}"  is-open="opened4" min="codeContent.startdate"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close"  readonly="true">  
                         <div class="error-message" ng-if="errorForInvalidEnddate!==''" ng-bind="errorForInvalidEnddate"></div>
                           
                  </td>     
              </tr>
              
               <tr>
                        <td></td>
                        <td> <button class = 'btn btn-default'style='width:49%' ng-click = 'cancelAll(); '> Cancel </button><button class = 'btn btn-info' style = 'float : right;width : 49%' ng-click = 'submit();'> Create Discount Code </button> </td>
               </tr>       
          </table>
   </div>
  <div style= 'border: 1px solid #ccc;' >
      <table class = 'table table-hover' ng-if = 'containerOfDiscountCode.length !== 0'>
          <tr >
              <td  style = 'border-top : 0px;width : 10%;border-bottom: 1px solid #ccc;'><h4>Discount Code </h4></td>
              <td  style = 'border-top : 0px;width : 30%;border-bottom: 1px solid #ccc;'><h4>Description </h4></td>
              <td  style = 'border-top : 0px;width : 10%;border-bottom: 1px solid #ccc;'><h4>Percent </h4></td>
              <td  style = 'border-top : 0px;width : 15%;border-bottom: 1px solid #ccc;'><h4>Start Date</h4></td>
              <td  style = 'border-top : 0px;width : 15%;border-bottom: 1px solid #ccc;'><h4>End Date </h4></td>
             <!--  <td><h4>Status </h4></td> -->
              <td style = 'width : 30%'></td>
          </tr>
          <tr ng-repeat = 'list in containerOfDiscountCode' ng-if = 'containerOfDiscountCode.length !== 0'>
             <td ng-bind = 'list.discountcode' ng-hide = 'list.editing'></td>
             <td ng-bind = 'list.description' ng-hide = 'list.editing'></td>
             <td ng-bind = 'list.percent + " %"' ng-hide = 'list.editing'></td>
             <td ng-bind = 'list.startdate | date: fullDate' ng-hide = 'list.editing'></td>
             <td ng-bind = 'list.expirydate | date: fullDate' ng-hide = 'list.editing'></td>
             <td ng-hide = 'list.editing'> <button class = 'btn-primary btn-sm' ng-click = 'edit(list)' style = 'width: 60px;height : 30px;float : right;margin-right : 5px'> Edit &nbsp; </button>
             <button class = 'btn-warning btn-sm'  ng-click = 'assignCodeContent(list.discountid)' style = 'width: 60px;height : 30px;float : right; margin-right : 5px' data-toggle = 'modal' data-target = '#clearDiscountCode'>Delete</button> </td>
             

             <td ng-bind = 'list.discountcode' ng-show = 'list.editing'></td>
             <td> <textarea class = 'form-control' ng-show = 'list.editing' ng-model = 'list.description'></textarea></td>
             <td > <input type = 'text' class = 'form-control'  ng-model = 'list.percent' ng-show = 'list.editing'></td>
             <td> 
                 <!-- <input type = 'text' class="form-control" ng-show = 'list.editing' ng-model = 'list.startdate'> -->
                <input type="text" ng-model = 'list.startdate' class="form-control disableEditingMode" name="startDate"  datepicker-popup="{{format}}"  is-open="opened7" min="today"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close"  readonly="true" ng-show = 'list.editing'> 
             </td>
             <td > 
                     <!-- <input type= 'text' class="form-control" ng-show = 'list.editing' ng-model = 'list.expirydate'> -->
                    <input type="text" ng-model = 'list.expirydate' ng-show = 'list.editing' class="form-control disableEditingMode" name="startDate"  datepicker-popup="{{format}}"  is-open="opened77" min="today"  datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close"  readonly="true" ng-show = 'list.editing'> 
             </td>
             <td> 
                  <button class = 'btn-primary btn-sm' ng-click = 'updateDiscountDetails(list)' ng-show = 'list.editing' style = 'float : right; margin-left : 5px; width : 60px; height : 30px;float : right'>Save</button>

                  <button class = 'btn-primary btn-sm' ng-click = 'cancelEditing(list)' ng-show = 'list.editing' style = 'width: 60px;float : right; height : 30px'>Cancel</button>
              </td>
          </tr>
     
      </table>
           <div  ng-if = 'containerOfDiscountCode.length === 0'>
              <div style="padding:40px; opacity: .8;margin-top: 2px;margin-bottom: 1px; color: rgb(80, 74, 74);background-color:#F1F1F1; letter-spacing: 1px; margin:10px;" class="row">
                <div class="col-md-12">
                  <div class="no-message">
                    <center>
                      <p style="font-size: 14px; font-weight:bold;">As of now there are no discount codes available.</p>      
                      <p style="font-size: 12px;">You can add, edit and manage product discounts and other discounts related details will be shown here.</p>
                    </center>
                  </div>
                </div>
              </div>
          </div>
  </div>
 
  
<!--    <div class="modal fade" id="deleteCodeContent" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title" id="myModalLabel">Delete Discount Code</h4>
                </div>
                <div class="modal-body">
                  Are you sure you want to delete ?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default " data-dismiss="modal">  <i class=" glyphicon glyphicon-remove"></i> &nbsp; Cancel </button>
                  <button type="button" class="btn btn-danger  " ng-click = 'deleteCurrentCode(list.discountid)' data-dismiss="modal" >  <i class=" glyphicon glyphicon-trash"></i> &nbsp; Delete </button>
                </div>
              </div>
            </div>
   </div> -->



         <div id = "clearDiscountCode" class="modal fade" style="">     
            <div class="modal-dialog">
                <div class="modal-content">
                  <div>
                    <h4 align="center">Delete Discount Code</h4>   
                    <hr>           
                  </div>  
              
                  <div class="modalAppearance">
                          &nbsp;&nbsp;&nbsp;&nbsp;Are you sure you want to delete this discount code
                  </div>                                                                                                 
                  <div class="modal-footer">
                     <button class="btn btn-info" style="background-color:#ACB2B4;border-color:#ACB2B4;" data-dismiss="modal">Cancel</button>     
                     <button type="button" class="btn btn-info" id="final" data-dismiss="modal" ng-click = 'deleteCurrentCode(currentDiscountCode)'><b>Delete</b></button>   
                  </div>                                       
                 </div>
              </div>
           </div> 


 </div>
</div>